!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():b()}(this,function(){function a(a){if(null===p){for(var b=a.length,c=0,d=document.getElementById(f),e="<ul>";b>c;)e+="<li>"+a[c]+"</li>",c++;e+="</ul>",d.innerHTML=e}else p(a)}function b(a){return a.replace(/<b[^>]*>(.*?)<\/b>/gi,function(a,b){return b}).replace(/class=".*?"|data-query-source=".*?"|dir=".*?"|rel=".*?"/gi,"")}function c(a){for(var b=a.getElementsByTagName("a"),c=b.length-1;c>=0;c--)b[c].setAttribute("target","_blank")}function d(a,b){for(var c=[],d=new RegExp("(^| )"+b+"( |$)"),e=a.getElementsByTagName("*"),f=0,g=e.length;g>f;f++)d.test(e[f].className)&&c.push(e[f]);return c}function e(a){if(void 0!==a){var b=a.innerHTML.match(/data-srcset="([A-z0-9%_\.-]+)/i)[0];return decodeURIComponent(b).split('"')[1]}}var f="",g=20,h=!0,i=[],j=!1,k=!0,l=!0,m=null,n=!0,o=!0,p=null,q=!0,r=!1,s=!0,t="en",u=!0,v={fetch:function(a){if(void 0===a.maxTweets&&(a.maxTweets=20),void 0===a.enableLinks&&(a.enableLinks=!0),void 0===a.showUser&&(a.showUser=!0),void 0===a.showTime&&(a.showTime=!0),void 0===a.dateFunction&&(a.dateFunction="default"),void 0===a.showRetweet&&(a.showRetweet=!0),void 0===a.customCallback&&(a.customCallback=null),void 0===a.showInteraction&&(a.showInteraction=!0),void 0===a.showImages&&(a.showImages=!1),void 0===a.linksInNewWindow&&(a.linksInNewWindow=!0),void 0===a.showPermalinks&&(a.showPermalinks=!0),j)i.push(a);else{j=!0,f=a.domId,g=a.maxTweets,h=a.enableLinks,l=a.showUser,k=a.showTime,o=a.showRetweet,m=a.dateFunction,p=a.customCallback,q=a.showInteraction,r=a.showImages,s=a.linksInNewWindow,u=a.showPermalinks;var b=document.createElement("script");b.type="text/javascript",b.src="http://cdn.syndication.twimg.com/widgets/timelines/"+a.id+"?&lang="+(a.lang||t)+"&callback=twitterFetcher.callback&suppress_response_codes=true&rnd="+Math.random(),document.getElementsByTagName("head")[0].appendChild(b)}},callback:function(f){var p=document.createElement("div");p.innerHTML=f.body,"undefined"==typeof p.getElementsByClassName&&(n=!1);var t=[],w=[],x=[],y=[],z=[],A=[],B=[],C=0;if(n)for(var D=p.getElementsByClassName("tweet");C<D.length;)D[C].getElementsByClassName("retweet-credit").length>0?z.push(!0):z.push(!1),(!z[C]||z[C]&&o)&&(t.push(D[C].getElementsByClassName("e-entry-title")[0]),A.push(D[C].getAttribute("data-tweet-id")),w.push(D[C].getElementsByClassName("p-author")[0]),x.push(D[C].getElementsByClassName("dt-updated")[0]),B.push(D[C].getElementsByClassName("permalink")[0]),void 0!==D[C].getElementsByClassName("inline-media")[0]?y.push(D[C].getElementsByClassName("inline-media")[0]):y.push(void 0)),C++;else for(var D=d(p,"tweet");C<D.length;)t.push(d(D[C],"e-entry-title")[0]),A.push(D[C].getAttribute("data-tweet-id")),w.push(d(D[C],"p-author")[0]),x.push(d(D[C],"dt-updated")[0]),B.push(D[C].getElementsByClassName("permalink")[0]),void 0!==d(D[C],"inline-media")[0]?y.push(d(D[C],"inline-media")[0]):y.push(void 0),d(D[C],"retweet-credit").length>0?z.push(!0):z.push(!1),C++;t.length>g&&(t.splice(g,t.length-g),w.splice(g,w.length-g),x.splice(g,x.length-g),z.splice(g,z.length-g),y.splice(g,y.length-g),B.splice(g,B.length-g));for(var E=[],C=t.length,F=0;C>F;){if("string"!=typeof m){var G=x[F].getAttribute("datetime"),H=new Date(x[F].getAttribute("datetime").replace(/-/g,"/").replace("T"," ").split("+")[0]),I=m(H,G);if(x[F].setAttribute("aria-label",I),t[F].innerText)if(n)x[F].innerText=I;else{var J=document.createElement("p"),K=document.createTextNode(I);J.appendChild(K),J.setAttribute("aria-label",I),x[F]=J}else x[F].textContent=I}var L="";h?(s&&(c(t[F]),l&&c(w[F])),l&&(L+='<div class="user">'+b(w[F].innerHTML)+"</div>"),L+='<p class="tweet">'+b(t[F].innerHTML)+"</p>",k&&(L+=u?'<p class="timePosted"><a href="'+B[F]+'">'+x[F].getAttribute("aria-label")+"</a></p>":'<p class="timePosted">'+x[F].getAttribute("aria-label")+"</p>")):t[F].innerText?(l&&(L+='<p class="user">'+w[F].innerText+"</p>"),L+='<p class="tweet">'+t[F].innerText+"</p>",k&&(L+='<p class="timePosted">'+x[F].innerText+"</p>")):(l&&(L+='<p class="user">'+w[F].textContent+"</p>"),L+='<p class="tweet">'+t[F].textContent+"</p>",k&&(L+='<p class="timePosted">'+x[F].textContent+"</p>")),q&&(L+='<p class="interact"><a href="https://twitter.com/intent/tweet?in_reply_to='+A[F]+'" class="twitter_reply_icon"'+(s?' target="_blank">':">")+'Reply</a><a href="https://twitter.com/intent/retweet?tweet_id='+A[F]+'" class="twitter_retweet_icon"'+(s?' target="_blank">':">")+'Retweet</a><a href="https://twitter.com/intent/favorite?tweet_id='+A[F]+'" class="twitter_fav_icon"'+(s?' target="_blank">':">")+"Favorite</a></p>"),r&&void 0!==y[F]&&(L+='<div class="media"><img src="'+e(y[F])+'" alt="Image from tweet" /></div>'),E.push(L),F++}a(E),j=!1,i.length>0&&(v.fetch(i[0]),i.splice(0,1))}};return window.twitterFetcher=v,v}),!function(a,b){"function"==typeof define&&define.amd?define(["ScrollMagic","TweenMax","TimelineMax"],b):b(a.ScrollMagic||a.jQuery&&a.jQuery.ScrollMagic,a.TweenMax||a.TweenLite,a.TimelineMax||a.TimelineLite)}(this,function(a,b,c){"use strict";a.Scene.addOption("tweenChanges",!1,function(a){return!!a}),a.Scene.extend(function(){var a,d=this;d.on("progress.plugin_gsap",function(){e()}),d.on("destroy.plugin_gsap",function(a){d.removeTween(a.reset)});var e=function(){if(a){var b=d.progress(),c=d.state();a.repeat&&-1===a.repeat()?"DURING"===c&&a.paused()?a.play():"DURING"===c||a.paused()||a.pause():b!=a.progress()&&(0===d.duration()?b>0?a.play():a.reverse():d.tweenChanges()&&a.tweenTo?a.tweenTo(b*a.duration()):a.progress(b).pause())}};d.setTween=function(f,g,h){var i;arguments.length>1&&(arguments.length<3&&(h=g,g=1),f=b.to(f,g,h));try{i=c?new c({smoothChildTiming:!0}).add(f):f,i.pause()}catch(j){return d}return a&&d.removeTween(),a=i,f.repeat&&-1===f.repeat()&&(a.repeat(-1),a.yoyo(f.yoyo())),e(),d},d.removeTween=function(b){return a&&(b&&a.progress(0).pause(),a.kill(),a=void 0),d}})});var arrowScroll=function(){var a=0,b=[0,5700,11500,"#section4","#section5","#section6","#section7","#section8"],c=function(){arrowScroll.currentPosition=Math.min(arrowScroll.currentPosition+1,7);var a,c=b[arrowScroll.currentPosition];"number"==typeof c?a=c:(a=$(c).offset().top,4==arrowScroll.currentPosition?a+=40:5==arrowScroll.currentPosition&&(a+=100)),$("html, body").stop().animate({scrollTop:a},2e3)},d=function(){arrowScroll.currentPosition=Math.max(arrowScroll.currentPosition-1,0);var a,c=b[arrowScroll.currentPosition];"number"==typeof c?a=c:(a=$(c).offset().top,4==arrowScroll.currentPosition?a+=40:5==arrowScroll.currentPosition&&(a+=100)),$("html, body").stop().animate({scrollTop:a},2e3)},e=function(){$(document).keydown(function(b){switch(a=f(),b.which){case 38:d();break;case 40:c();break;default:return}}),$(window).scroll(f)},f=function(a){var c=$(window).scrollTop();c<b[1]?arrowScroll.currentPosition=0:c<b[2]?arrowScroll.currentPosition=1:c<$(b[3]).offset().top?arrowScroll.currentPosition=2:c<$(b[4]).offset().top?arrowScroll.currentPosition=3:c<$(b[5]).offset().top?arrowScroll.currentPosition=4:c<$(b[6]).offset().top?arrowScroll.currentPosition=5:arrowScroll.currentPosition=6,livingSys.refreshBackgrounds(".section5")};return{init:e,positionArray:b,whereAreYou:f,currentPosition:a}}();forms=function(){var a,b=function(){a=$(".button"),a.each(function(){$(this).prepend('<span class="helper"/>'),$(this).attr("data-title",$(this).text())}),a.on("mouseenter mousedown mouseup mouseleave",function(a){var b,c=a.type,d=$(this),e=d.children(".helper");"mouseenter"==c||"mouseup"==c?b=1*d.outerWidth():"mousedown"==c?b=1*d.outerWidth():"mouseleave"==c&&(b=0),e.height(b)}),$(".form-input#message").focus(function(){$(this).data("placeholder",$(this).attr("placeholder")),$(this).attr("placeholder","")}),$(".form-input#message").blur(function(){$(this).attr("placeholder",$(this).data("placeholder"))})};return{init:b}}();var imageScraper=function(){var a=function(a){var g,h=/https?:\/\/t.co\/\w*/,i=h.exec(a);return void 0!=i?(console.log("twitter_links",i[0]),g=e(i[0]).then(d,c).then(f,c).then(b,c)["catch"](c)):(console.log("nothing to scrape"),g=Promise.resolve("build/resources/images/blank_1x1.png")),g},b=function(a){var b=new Promise(function(b,c){null===a||void 0==typeof a?c("Bad Result!"):(b(a),console.log("returnImage",a))});return b},c=function(a){console.log("At image scraper:",a)},d=function(a){var b=/https?:\/\/instagram.com\/.*\/.*(?="><)/,c=b.exec(a);if(null!==c)return c+"media";var d;d=a.indexOf("<noscript>")>-1?/https?:\/\/twitter.com\/.+\/.+\/.+\/.+\/[0-9]+(?="><)/:/https?:\/\/pbs.twimg.com\/media\/.*(.jpg)/;var e=d.exec(a);return null===e?null:Array.isArray(e)?e[0]:e},e=function(a){var b=new Promise(function(b,c){null!==a?$.ajax({url:a,dataType:"text",success:function(a){console.log("firstSuccess",a),b(a)},error:function(a){c(a)}}):c(new Error("No twitter Image links in: "+a))});return b},f=function(a){var b=new Promise(function(b,c){null==a?(console.log("no second URL",a),b("")):a.indexOf("media")>0?(console.log("secondURL is a media",a),b(a)):$.ajax({url:a,dataType:"text",success:function(c){var d=/https?:\/\/pbs.twimg.com\/.*\.jpg/,e=d.exec(c);console.log("2ndSuccess?",e[0],a),b(e[0])},error:function(a){c(a)}})});return b},g=function(){$.ajaxPrefilter(function(a){if(a.crossDomain&&jQuery.support.cors){var b="http:"===window.location.protocol?"http:":"https:";a.url=b+"//cors-anywhere.herokuapp.com/"+a.url}})};return{scrape:a,init:g}}(),proxyJsonp="https://script.google.com/macros/s/AKfycbwmqG55tt2d2FcT_WQ3WjCSKmtyFpkOcdprSITn45-4UgVJnzp9/exec";jQuery.ajaxOrig=jQuery.ajax,jQuery.ajax=function(a,b){function c(a){return a=encodeURI(a).replace(/&/g,"%26"),proxyJsonp+"?url="+a+"&callback=?"}var d="object"==typeof a?a:b||{};d.url=d.url||("string"==typeof a?a:"");var d=jQuery.ajaxSetup({},d),e=function(a,b){var c=document.createElement("a");return c.href=a,b.crossOrigin&&"http"==a.substr(0,4).toLowerCase()&&"localhost"!=c.hostname&&"127.0.0.1"!=c.hostname&&c.hostname!=window.location.hostname}(d.url,d);return d.proxy&&0<d.proxy.length&&(proxyJsonp=d.proxy,"object"==typeof a?a.crossDomain=!0:"object"==typeof b&&(b.crossDomain=!0)),e&&("object"==typeof a?a.url&&(a.url=c(a.url),a.charset&&(a.url+="&charset="+a.charset),a.dataType="json"):"string"==typeof a&&"object"==typeof b&&(a=c(a),b.charset&&(a+="&charset="+b.charset),b.dataType="json")),jQuery.ajaxOrig.apply(this,arguments)},jQuery.ajax.prototype=new jQuery.ajaxOrig,jQuery.ajax.prototype.constructor=jQuery.ajax,livingSys=function(){var a=new ScrollMagic.Controller,b=function(){var b=(new ScrollMagic.Scene({}).setPin("#section1").addTo(a),new TimelineMax);b.add([TweenMax.to("#text_1",2,{alpha:0}),TweenMax.to("#pin1",2,{top:"-=100",delay:.2}),TweenMax.to("#section1",1.5,{delay:.5,transformOrigin:"50% 50% 0",scale:.75,alpha:0}),TweenMax.from("#section2",.75,{delay:1.3,transformOrigin:"50% 50% 0",scale:1.5,alpha:0})]);var c=(new ScrollMagic.Scene({offset:200,duration:3e3}).setTween(b).addTo(a),new ScrollMagic.Scene({}).setPin("#section2").addTo(a),new TimelineMax);c.add([TweenMax.from("#pin2",2,{top:"-=100",delay:.2}),TweenMax.from("#text_2",2,{alpha:0}),TweenMax.to("#pin2",2,{delay:4.2,top:"-=100"}),TweenMax.to("#text_2",2,{delay:4,alpha:0}),TweenMax.to("#section2",1.5,{delay:4,transformOrigin:"50% 50% 0",scale:.75,alpha:0}),TweenMax.from("#section3",.75,{delay:5,transformOrigin:"50% 50% 0",scale:1.5,alpha:0})]);var d=(new ScrollMagic.Scene({offset:3500,duration:6200}).setTween(c).addTo(a),(new ScrollMagic.Scene).setPin("#section3").addTo(a),new TimelineMax);d.add([TweenMax.fromTo("#pin3",2,{top:"-=100"},{delay:.2,top:"50%"}),TweenMax.fromTo("#text_3",2,{alpha:0},{alpha:1})]),d.add(TweenMax.to("#pin3",2,{})),d.add([TweenMax.to("#pin3",1.5,{alpha:0,top:"-=100"}),TweenMax.to("#section3",.75,{delay:1,alpha:0})]);new ScrollMagic.Scene({offset:9700,duration:3e3}).setTween(d).addTo(a)},c=function(){e(),d(),g(".section5")},d=function(){$("#section4").offset({top:12900}),$("#section5").offset({top:$("#section4").offset().top+$("#section5").height()}),$("#section6").offset({top:$("#section5").offset().top+$("#section6").height()}),$("#section7").offset({top:$("#section6").offset().top+$("#section7").height()}),$("#section8").offset({top:$("#section7").offset().top+$("#section8").height()})},e=function(){source=$(".work-list > li"),source.height(.99*source.height()),target=$(".works-effect > .overlay"),target.height(.99*source.height()),target.width(source.width())},f=function(){var a=$(".quote"),b=$(".client-list li");b.each(function(){$(this).on("mouseenter touchend",function(b){var c=$(this).index();2===c&&(c=1),4===c&&(c=2);var d=a.eq(c);0==d.css("opacity")&&(TweenMax.fromTo(d,.35,{opacity:0,top:100},{opacity:1,top:0}),TweenMax.to(d.siblings(),.35,{opacity:0,top:-30}))})}),a.first().css("opacity",1)},g=function(a){/chrome/.test(navigator.userAgent.toLowerCase())&&$(a).each(function(){var a=$(this);if(a.css("background-image")){var b=a.css("background-image");setTimeout(function(){a.css("background-image",b)},1)}})},h=function(){$(".works-effect").click(function(a){"Hudson"==$(a.target.childNodes[1]).text()?window.open("sub/hudson.html"):window.open("sub/edge.html")})},i=function(){b(),f(),$(window).resize(c),setTimeout(c,250),setTimeout(e,500),setTimeout(function(){window.scrollTo(0,0)},501),h()};return{init:i,controller:a,refreshBackgrounds:g}}();var preLoader=void 0;menuSystem=function(){var a,b=function(){a=$("#page-header").offset().top,$("#hiddenMenu").css("top","-40px"),$("#menu-icon").click(c),$("#closeMenu").click(d),$(window).scroll(g),$("#clients_menu").click(e),$("#work_menu").click(e),$("#services_menu").click(e),$("#contact_menu").click(e),$("#social_menu").click(e)},c=function(){TweenLite.to($("#hiddenMenu"),1,{autoAlpha:1,ease:Bounce.easeOut,top:"20px",display:"block"}),TweenLite.to($("#menu-icon"),1,{autoAlpha:0,ease:Bounce.easeOut,right:"-100px",display:"none"})},d=function(){TweenLite.to($("#hiddenMenu"),1,{autoAlpha:0,ease:Bounce.easeOut,top:"-40px",display:"none"}),TweenLite.to($("#menu-icon"),1,{right:"70px",ease:Bounce.easeOut,autoAlpha:1,display:"block"})},e=function(a){switch(a.target.id){case"clients_menu":f(arrowScroll.positionArray[3]);break;case"work_menu":f(arrowScroll.positionArray[4]);break;case"services_menu":f(arrowScroll.positionArray[5]);break;case"contact_menu":f(arrowScroll.positionArray[6]);break;case"social_menu":f(arrowScroll.positionArray[7])}},f=function(a){targetPos=$(a).offset().top,4==arrowScroll.currentPosition?targetPos+=40:5==arrowScroll.currentPosition&&(targetPos+=100),$("html, body").stop().animate({scrollTop:targetPos},2e3)},g=function(){$(window).scrollTop()>a?$("#page-header").css({position:"fixed",top:"0px"}):$("#page-header").css({position:"static",top:"0px"})};return{init:b,open:c,close:d}}();var preload=void 0;social=function(){var a=function(){};return{init:a}}(),spotify=function(){var a=($,function(a,b){console.log("Searching: "+a),""!=a&&$.ajax({url:"https://api.spotify.com/v1/search",data:{q:a,type:"track"},success:function(a){b(a)}})});return{songSearch:a}}();var twitter=function(){var a=($,"594215394350649344"),b=[],c=[],d=function(a){for(var c=a.length,d=0,f=[];c>d;)b.push(a[d]),f.push(imageScraper.scrape(a[d])),d++;Promise.all(f).then(e)},e=function(a){console.log("returnCall",a),c=a,f()},f=function(){var a,d=document.getElementById("TweetContainer"),e='<ul class="tweets">';for(a=0;a<b.length;a++)e+='<li class="tweets"><div><div class="image_holder"><img width=285 height=260 src="'+c[a]+'"></div><div class="tweetHolder">'+b[a]+"</div></div></li>";e+="</ul>",d.innerHTML=e},g=function(){var b={id:a,maxTweets:3,enableLinks:!0,showUser:!0,showImage:!1,showTime:!1,lang:"en",customCallback:d,showInteraction:!1};twitterFetcher.fetch(b)};return{getSomeTweets:g}}();